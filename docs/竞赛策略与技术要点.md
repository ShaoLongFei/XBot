# 竞赛策略与技术要点

## 核心策略：聚焦比赛，忽略运营

### 必须关注的问题

#### ✅ 问题 1：AI 啰嗦，AI 味浓（影响评分 ⭐⭐⭐⭐⭐）

**为什么致命**：
- 啰嗦回答即使正确也只能拿 5 分
- 长篇错误回答会拿 1-4 分

**解决方案**：
```
Prompt 工程优化：
- 明确要求："简洁专业，直接回答，不过度解释"
- 提供简洁范例：筛选最简洁的人工回复作为 Few-shot
- 长度限制："控制在 100 字以内"
```

---

#### ✅ 问题 2：出现错误回复（影响评分 ⭐⭐⭐⭐⭐）

**为什么致命**：错误回答直接 1-4 分

**解决方案**：
```
置信度过滤（3 小时可实现）：
1. 设置检索相似度阈值（0.75）
2. 低于阈值返回保守答案：
   "此问题较复杂，建议联系人工客服获取详细解答"
3. 保证最低 5 分
```

---

### 可以忽略的问题（长期运营相关）

| 问题 | 影响评分 | 原因 |
|------|---------|------|
| 知识库迭代更新 | ⭐☆☆☆☆ | 比赛 3 天，用固定知识库即可 |
| 内部流程集成 | ⭐☆☆☆☆ | 只需回答，不需执行操作 |
| 信息安全/鉴权 | ⭐☆☆☆☆ | 测试数据，数据预处理脱敏即可 |
| 质检机制 | ⭐☆☆☆☆ | 比赛有人工评分 |
| AI 回复利用率 | ☆☆☆☆☆ | 业务指标，与比赛无关 |
| 质量评分系统 | ☆☆☆☆☆ | 比赛有统一标准 |

---

## 技术难点与解决方案

### 难点 1：冷启动（3 天时间限制）⭐⭐⭐⭐⭐

**挑战**：3 天内快速建立有效问答系统，无法微调模型

**解决方案**：
```
RAG 架构（检索增强生成）：
用户问题 
  ↓
向量化 (Embedding)
  ↓
向量检索 (Top-K 相似问答)
  ↓
构建上下文
  ↓
LLM 生成 (GPT-4/Claude + Prompt)
  ↓
答案后处理
  ↓
返回答案
```

**核心思想**：不训练模型，优化检索和 Prompt

---

### 难点 2：语义理解准确性 ⭐⭐⭐⭐

**挑战**：
- 用户提问多样化
- 七牛技术术语识别
- 口语化、错别字处理

**解决方案**：
```python
混合检索策略：
def hybrid_search(query, top_k=5):
    # 语义检索（向量相似度）
    semantic_results = vector_db.search(query, k=top_k*2)
    
    # 关键词检索（BM25）
    keyword_results = bm25_search(query, k=top_k*2)
    
    # 混合打分 + 重排序
    final_results = rerank(
        semantic_results, 
        keyword_results, 
        weights=[0.7, 0.3]
    )
    
    return final_results[:top_k]
```

---

### 难点 3：评分标准把握 ⭐⭐⭐⭐

**挑战**：如何做到"好于人工"

**解决方案**：

**系统 Prompt 设计**：
```
你是七牛云资深客服专家。基于参考答案生成高质量回复。

回复要求：
1. 准确性：基于官方文档，答案准确无误
2. 完整性：覆盖所有方面，不遗漏关键信息
3. 结构化：清晰的段落和要点，易读
4. 专业礼貌：专业客服语气

优于人工标准：
- 更详细的步骤说明
- 更清晰的结构组织
- 补充注意事项
- 提供文档链接
```

**示例对比**：

人工回复（5 分）：
```
CDN 加速可以在控制台的域名管理里开启。
```

AI 优化回复（8 分）：
```
您好，CDN 加速开启步骤：

1. 登录七牛云控制台
2. 进入「CDN」-「域名管理」
3. 点击「添加域名」或选择已有域名
4. 开启「CDN 加速」

注意事项：
- 首次使用需完成域名备案
- 建议配置 HTTPS 证书
- 可在「统计分析」查看效果

如有问题，欢迎咨询。
```

---

### 难点 4：边缘案例处理 ⭐⭐⭐

**挑战**：知识库外问题、模糊问题

**解决方案**：
```python
置信度阈值 + 兜底策略：
def answer_with_confidence(query):
    results = search(query, top_k=3)
    confidence = results[0].similarity_score
    
    if confidence > 0.8:
        # 高置信度：直接生成
        return generate_answer(results)
    elif confidence > 0.5:
        # 中置信度：生成 + 提示
        answer = generate_answer(results)
        return answer + "\n\n如需更详细信息，建议联系人工客服"
    else:
        # 低置信度：转人工
        return "抱歉，建议您联系人工客服获取专业解答"
```

---

## 技术攻关优先级

| 优先级 | 攻关点 | 投入时间 | 预期效果 |
|-------|--------|---------|---------|
| P0 | 数据质量优化 | 30% | 提升基础准确率 30% |
| P0 | RAG 架构搭建 | 20% | 快速冷启动 |
| P1 | 混合检索策略 | 20% | 提升检索准确率 25% |
| P1 | Prompt 工程 | 15% | 提升答案质量 20% |
| P2 | 置信度评估 | 10% | 避免错误答案 |
| P3 | 边缘案例处理 | 5% | 提升健壮性 |

**时间分配原则**：80% 时间解决 P0 和 P1，20% 优化 P2 和 P3

---

## 关键成功要素

1. **数据质量（40%）**：高质量数据 = 高质量回答
2. **检索策略（35%）**：混合检索提升准确率
3. **回答质量（25%）**：Prompt 工程决定 6-9 分

**不要追求完美 AI，专注「工程化检索 + 成熟 LLM」**

---

## 值得尝试的优化

### ✅ 模型对比（中等影响 ⭐⭐⭐⭐☆）

**建议**：值得尝试但要控制时间

**做法**：
- Day 2 上午快速对比 2-3 个模型
- 各跑 50 样本
- 选择标准：简洁性 > 准确性
- **时间控制**：半天内完成

### ⚠️ 深度推理总结（不推荐）

**为什么不推荐**：实现复杂，时间成本高（至少 1 天）

**替代方案**：直接用历史最佳人工回复作为知识库

---

## 总结

**真正需要关注的只有 2 个**：
1. **简洁性**（解决 AI 啰嗦）→ 决定 6-9 分
2. **准确性**（避免错误回答）→ 避免 1-4 分

**立即行动**：
1. 筛选 100-200 条最简洁人工回复
2. 准备 2-3 个 LLM API
3. 确定技术栈：FastGPT 或 LangChain
